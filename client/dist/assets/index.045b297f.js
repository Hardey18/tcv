var x=Object.defineProperty,A=Object.defineProperties;var b=Object.getOwnPropertyDescriptors;var S=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var C=(t,a,r)=>a in t?x(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,u=(t,a)=>{for(var r in a||(a={}))V.call(a,r)&&C(t,r,a[r]);if(S)for(var r of S(a))F.call(a,r)&&C(t,r,a[r]);return t},d=(t,a)=>A(t,b(a));import{c as M,a as _,b as I,t as G,d as h,R as e,f as R,r as m,u as y,e as P,S as Y,L as H,g as U,h as j,i as L,P as B,B as q,j as $}from"./vendor.1c8be0f9.js";const K=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))c(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&c(o)}).observe(document,{childList:!0,subtree:!0});function r(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerpolicy&&(s.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?s.credentials="include":l.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(l){if(l.ep)return;l.ep=!0;const s=r(l);fetch(l.href,s)}};K();const i={FETCH_EVENTS:"FETCH_EVENTS",LOGIN:"LOGIN",LOGOUT:"LOGOUT",ADD_EVENT:"ADD_EVENT"},Q={events:[],token:null},z=(t=Q,{type:a,payload:r})=>{switch(a){case i.FETCH_EVENTS:return d(u({},t),{events:r});case i.LOGIN:return d(u({},t),{token:r});case i.LOGOUT:return d(u({},t),{token:r});case i.ADD_EVENT:return d(u({},t),{events:[...t.events,r]});default:return t}},J=[G],W=M(z,_(I(...J))),X=()=>async t=>{try{const a=await h.get("https://tcvapp.herokuapp.com/events");t(re(a.data.data))}catch(a){console.log(a)}},Z=(t,a)=>async r=>{try{const c=await h.post("https://tcvapp.herokuapp.com/auth",{email:t,password:a});localStorage.setItem("user-token",c.data),r(k(c.data))}catch{}},ee=()=>async t=>{try{localStorage.clear(),t(ne())}catch{}},te=t=>async a=>{try{const r=localStorage.getItem("user-token"),c=await h.post("https://tcvapp.herokuapp.com/events",t,{headers:{"x-auth-token":r}});a(ae(c.data.event))}catch{}},ae=t=>({type:i.ADD_EVENT,payload:t}),k=t=>({type:i.LOGIN,payload:t}),ne=()=>({type:i.LOGOUT}),re=t=>({type:i.FETCH_EVENTS,payload:t});function le({singleEvent:t,setOpenModal:a}){const{title:r,description:c,category:l,isVirtual:s,date:o,address:E}=t;return e.createElement("div",{className:"modal-container"},e.createElement("div",{className:"modal-inner"},e.createElement("div",{className:"modal-header"},"Modal Content"),e.createElement("div",null,"Title: ",r),e.createElement("div",null,"Description: ",c),e.createElement("div",null,"Category: ",l),e.createElement("div",null,"Virtual: ",s?"Yes":"No"),e.createElement("div",null,"Date: ",R(new Date(o),"dddd MMMM Do, YYYY")),e.createElement("div",null,"Address: ",E),e.createElement("button",{onClick:()=>a(!1)},"Close")))}function oe({title:t,category:a}){return e.createElement("div",{className:"item"},e.createElement("div",{className:"top-container"},e.createElement("div",{className:"name"},t),e.createElement("div",{className:"content"},a)))}function se({handleChange:t,placeholder:a,type:r}){return e.createElement("input",{className:"input-search",placeholder:a,type:r,onChange:t})}const ce=[{value:!0,label:"True"},{value:!1,label:"False"}];function ie(){const[t,a]=m.exports.useState(!1),[r,c]=m.exports.useState(null),[l,s]=m.exports.useState(""),[o,E]=m.exports.useState({title:"",description:"",category:"",isVirtual:!1,date:"",address:""}),p=(n,f)=>{E(d(u({},o),{[n]:f}))},v=y();m.exports.useEffect(()=>{v(X())},[]);const{events:N,token:g}=P(n=>n),T=n=>{n.preventDefault(),v(te(o))},w=n=>{const f=N.find(D=>D._id===n);c(f),a(!0)},O=()=>{v(ee())};return e.createElement(e.Fragment,null,e.createElement("div",{className:"event-container"},g&&e.createElement("form",{className:"form"},e.createElement("div",null,e.createElement("input",{className:"title-input",onChange:n=>p("title",n.target.value),value:o.title,type:"text",placeholder:"Title"})),e.createElement("div",null,e.createElement("input",{className:"description-input",onChange:n=>p("description",n.target.value),value:o.description,type:"text",placeholder:"Description"})),e.createElement("div",null,e.createElement("input",{className:"category-input",onChange:n=>p("category",n.target.value),value:o.category,type:"text",placeholder:"Category"})),e.createElement("div",null,e.createElement(Y,{defaultValue:o.isVirtual,onChange:n=>p("isVirtual",n.value),options:ce})),e.createElement("div",null,e.createElement("input",{className:"date-input",onChange:n=>p("date",n.target.value.split("-").join("/")),value:o.date.split("/").join("-"),type:"date",placeholder:"Date"})),e.createElement("div",null,e.createElement("input",{className:"address-input",onChange:n=>p("address",n.target.value),value:o.address,type:"text",placeholder:"Address"})),e.createElement("button",{className:"event-button",onClick:n=>T(n)},"Add Event")),g&&e.createElement("button",{className:"logout",onClick:O},"Logout"),!g&&e.createElement(H,{to:"login"},e.createElement("button",{className:"event-button"},"Admin Login")),t&&e.createElement(le,{singleEvent:r,setOpenModal:a})),e.createElement("div",{className:"event-title"},"List of All Events"),e.createElement(se,{type:"text",placeholder:"Search by Category",handleChange:n=>s(n.target.value)}),e.createElement("div",null,N.filter(n=>{if(l==="")return n;if(n.category.toLowerCase().includes(l.toLowerCase()))return n}).slice(0).reverse().map(n=>e.createElement("div",{className:"hotlist",onClick:()=>w(n._id),key:n._id},e.createElement(oe,{title:n.title,category:n.category})))))}function ue(){const[t,a]=m.exports.useState({email:"",password:""}),r=(o,E)=>{a(d(u({},t),{[o]:E}))},c=U(),l=y(),s=()=>{l(Z(t.email,t.password)),c("/")};return e.createElement(e.Fragment,null,e.createElement("div",{className:"login-container"},e.createElement("div",{className:"login-title"},"Admin Login Page"),e.createElement("form",{className:"form"},e.createElement("div",null,e.createElement("input",{className:"email-input",onChange:o=>r("email",o.target.value),value:t.email,type:"email",placeholder:"Email"})),e.createElement("div",null,e.createElement("input",{className:"password-input",onChange:o=>r("password",o.target.value),value:t.password,type:"password",placeholder:"Password"})),e.createElement("button",{className:"login-button",onClick:s},"Login"))))}function de(){const t=y(),a=localStorage.getItem("user-token");return m.exports.useEffect(()=>{t(k(a))}),e.createElement(j,null,e.createElement(L,{index:!0,element:e.createElement(ie,null)}),e.createElement(L,{path:"login",element:e.createElement(ue,null)}))}function me(){return e.createElement("div",{className:"App"},e.createElement(B,{store:W},e.createElement(q,null,e.createElement(de,null))))}$.render(e.createElement(e.StrictMode,null,e.createElement(me,null)),document.getElementById("root"));
